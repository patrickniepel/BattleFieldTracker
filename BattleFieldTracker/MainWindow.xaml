<controls:MetroWindow
    x:Class="BattleFieldTracker.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:controls="clr-namespace:MahApps.Metro.Controls;assembly=MahApps.Metro"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:details="clr-namespace:BattleFieldTracker.DownloadModels"
    xmlns:dogTags="clr-namespace:BattleFieldTracker.DownloadModels"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:medals="clr-namespace:BattleFieldTracker.DownloadModels"
    xmlns:vehicles="clr-namespace:BattleFieldTracker.DownloadModels"
    xmlns:visibilityConverters="clr-namespace:BattleFieldTracker.Converter"
    xmlns:weapons="clr-namespace:BattleFieldTracker.DownloadModels"
    Title="Battlefield 1 Tracker"
    Width="1500"
    Height="850"
    Background="{DynamicResource WindowBackgroundImage}"
    mc:Ignorable="d">

    <Window.Resources>
        <!--  Template für die Anzeige des Fehlers als roter Text unter dem jeweiligen Control  -->
        <ControlTemplate x:Key="ErrorTemplate">
            <StackPanel>
                <!--  Placeholder for the TextBox itself  -->
                <AdornedElementPlaceholder x:Name="textBox" />
                <ItemsControl ItemsSource="{Binding}">
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <!--  ReSharper disable once Xaml.BindingWithContextNotResolved  -->
                            <TextBlock
                                Background="White"
                                Foreground="Red"
                                Text="{Binding ErrorContent}" />
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>
            </StackPanel>
        </ControlTemplate>

        <!--  ErrorTemplate bei allen TextBoxes setzen  -->
        <Style TargetType="TextBox">
            <Setter Property="Padding" Value="4" />
            <Setter Property="Validation.ErrorTemplate" Value="{StaticResource ErrorTemplate}" />
        </Style>

        <visibilityConverters:VisibilityConverter x:Key="VisibilityConverter" />
        <visibilityConverters:ProgressBarVisibilityConverter x:Key="ProgressBarVisibilityConverter" />
    </Window.Resources>

    <Grid Margin="5,5,5,5">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="4*" />
        </Grid.ColumnDefinitions>

        <Grid Grid.Column="0">

            <Grid
                Margin="5,5,5,250"
                Background="{StaticResource BackgroundColor}"
                Visibility="{Binding PlayerStatsViewModel.DownloadFinished, Converter={StaticResource VisibilityConverter}}">
                <Grid.RowDefinitions>
                    <RowDefinition Height="*" />
                    <RowDefinition Height="3*" />
                    <RowDefinition Height="*" />
                    <RowDefinition Height="*" />
                    <RowDefinition Height="*" />
                </Grid.RowDefinitions>

                <Label
                    Grid.Row="0"
                    Margin="20,20,20,0"
                    HorizontalContentAlignment="Center"
                    VerticalContentAlignment="Center"
                    Background="{StaticResource BackgroundColorHeader}"
                    Content="{Binding PlayerStatsViewModel.DisplayName}"
                    FontFamily="Calibri"
                    FontSize="{StaticResource FontSizeUltra}"
                    FontWeight="Bold"
                    Foreground="{StaticResource FontColor}" />
                <Image
                    Grid.Row="1"
                    Margin="20,20,20,20"
                    HorizontalAlignment="Stretch"
                    VerticalAlignment="Stretch"
                    Source="{Binding PlayerStatsViewModel.RankImage}" />

                <Label
                    Grid.Row="2"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center"
                    Content="{Binding PlayerStatsViewModel.RankName}"
                    FontFamily="Calibri"
                    FontSize="{StaticResource FontSizeMega}"
                    FontWeight="Bold"
                    Foreground="{StaticResource FontColorTitle}" />

                <Grid Grid.Row="3" Margin="0,10,0,10">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>

                    <Label
                        Grid.Column="0"
                        Margin="10,0,0,0"
                        VerticalAlignment="Center"
                        BorderBrush="Black"
                        Content="Current XP:"
                        FontFamily="Calibri"
                        FontSize="{StaticResource FontSizeMega}"
                        FontWeight="Bold"
                        Foreground="{StaticResource FontColorTitle}"
                        OpacityMask="White" />
                    <Label
                        Grid.Column="1"
                        HorizontalAlignment="Center"
                        VerticalAlignment="Center"
                        BorderBrush="Black"
                        Content="{Binding PlayerStatsViewModel.CurrentXp}"
                        FontFamily="Calibri"
                        FontSize="{StaticResource FontSizeUltra}"
                        FontWeight="Bold"
                        Foreground="{StaticResource FontColor}" />
                </Grid>

                <Grid Grid.Row="4">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>

                    <Label
                        Grid.Column="0"
                        Margin="10,0,0,0"
                        VerticalAlignment="Center"
                        BorderBrush="Black"
                        Content="Total XP:"
                        FontFamily="Calibri"
                        FontSize="{StaticResource FontSizeMega}"
                        FontWeight="Bold"
                        Foreground="{StaticResource FontColorTitle}" />
                    <Label
                        Grid.Column="1"
                        HorizontalAlignment="Center"
                        VerticalAlignment="Center"
                        BorderBrush="{StaticResource FontColor}"
                        Content="{Binding PlayerStatsViewModel.TotalXp}"
                        FontFamily="Calibri"
                        FontSize="{StaticResource FontSizeUltra}"
                        FontWeight="Bold"
                        Foreground="{StaticResource FontColor}" />
                </Grid>
            </Grid>
        </Grid>

        <Grid Grid.Column="1">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="*" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="10*" />
                </Grid.RowDefinitions>

                <Grid Grid.Row="0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="3*" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>

                    <TextBox
                        Name="SearchTextBox"
                        Grid.Column="0"
                        Margin="5,5,5,5"
                        VerticalAlignment="Center"
                        Background="{StaticResource BackgroundColor}"
                        BorderBrush="White"
                        FontFamily="Calibri"
                        FontSize="{StaticResource FontSizeMega}"
                        Foreground="{StaticResource FontColor}"
                        SelectionBrush="{StaticResource FontColor}"
                        Text="{Binding PlayerName, Mode=TwoWay, ValidatesOnDataErrors=True}" />

                    <Button
                        Grid.Column="1"
                        Height="{Binding ElementName=SearchTextBox, Path=ActualHeight}"
                        Margin="5,5,5,5"
                        VerticalAlignment="Center"
                        HorizontalContentAlignment="Center"
                        VerticalContentAlignment="Center"
                        Background="{StaticResource BackgroundColor}"
                        BorderBrush="White"
                        Command="{Binding SearchCommand}"
                        Content="Track"
                        FontFamily="Calibri"
                        FontSize="{StaticResource FontSizeMega}"
                        FontWeight="Bold"
                        Foreground="{StaticResource FontColor}" />
                </Grid>

                <ProgressBar
                    Grid.Row="1"
                    Height="10"
                    Margin="5,0,5,0"
                    HorizontalAlignment="Stretch"
                    VerticalAlignment="Stretch"
                    Background="{StaticResource BackgroundColor}"
                    Foreground="{StaticResource FontColor}"
                    IsIndeterminate="True"
                    Visibility="{Binding IsDownloading, Converter={StaticResource ProgressBarVisibilityConverter}}" />

                <TabControl
                    Grid.Row="2"
                    Margin="0,10,0,0"
                    Background="{StaticResource BackgroundColor}"
                    FontFamily="Calibri"
                    FontSize="20"
                    FontWeight="Bold"
                    Visibility="{Binding PlayerStatsViewModel.DownloadFinished, Converter={StaticResource VisibilityConverter}}">
                    <TabItem
                        Background="{StaticResource BackgroundColorHeader}"
                        Foreground="Black"
                        Header="General">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*" />
                                <RowDefinition Height="2*" />
                            </Grid.RowDefinitions>

                            <Grid Grid.Row="0">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>

                                <Border
                                    Grid.Column="0"
                                    Margin="20"
                                    Padding="5,10,5,5"
                                    BorderBrush="White"
                                    BorderThickness="3"
                                    CornerRadius="10 10 10 10">
                                    <StackPanel>
                                        <TextBlock
                                            VerticalAlignment="Center"
                                            FontSize="{StaticResource FontSizeMega}"
                                            Foreground="{StaticResource FontColorTitle}"
                                            Text="Kills"
                                            TextAlignment="Center" />
                                        <TextBlock
                                            Margin="0,30,0,0"
                                            FontSize="{StaticResource FontSizeUltra}"
                                            FontWeight="Bold"
                                            Foreground="{StaticResource FontColor}"
                                            Text="{Binding PlayerStatsViewModel.Kills}"
                                            TextAlignment="Center" />
                                    </StackPanel>
                                </Border>

                                <Border
                                    Grid.Column="1"
                                    Margin="20"
                                    Padding="5,10,5,5"
                                    BorderBrush="White"
                                    BorderThickness="3"
                                    CornerRadius="10 10 10 10">
                                    <StackPanel>
                                        <TextBlock
                                            VerticalAlignment="Center"
                                            FontSize="{StaticResource FontSizeMega}"
                                            Foreground="{StaticResource FontColorTitle}"
                                            Text="Deaths"
                                            TextAlignment="Center" />
                                        <TextBlock
                                            Margin="0,30,0,0"
                                            FontSize="{StaticResource FontSizeUltra}"
                                            FontWeight="Bold"
                                            Foreground="{StaticResource FontColor}"
                                            Text="{Binding PlayerStatsViewModel.Deaths}"
                                            TextAlignment="Center" />
                                    </StackPanel>
                                </Border>

                                <Border
                                    Grid.Column="2"
                                    Margin="20"
                                    Padding="5,10,5,5"
                                    BorderBrush="White"
                                    BorderThickness="3"
                                    CornerRadius="10 10 10 10">
                                    <StackPanel>
                                        <TextBlock
                                            VerticalAlignment="Center"
                                            FontSize="{StaticResource FontSizeMega}"
                                            Foreground="{StaticResource FontColorTitle}"
                                            Text="Wins"
                                            TextAlignment="Center" />
                                        <TextBlock
                                            Margin="0,30,0,0"
                                            FontSize="{StaticResource FontSizeUltra}"
                                            FontWeight="Bold"
                                            Foreground="{StaticResource FontColor}"
                                            Text="{Binding PlayerStatsViewModel.Wins}"
                                            TextAlignment="Center" />
                                    </StackPanel>
                                </Border>

                                <Border
                                    Grid.Column="3"
                                    Margin="20"
                                    Padding="5,10,5,5"
                                    BorderBrush="White"
                                    BorderThickness="3"
                                    CornerRadius="10 10 10 10">
                                    <StackPanel>
                                        <TextBlock
                                            VerticalAlignment="Center"
                                            FontSize="{StaticResource FontSizeMega}"
                                            Foreground="{StaticResource FontColorTitle}"
                                            Text="Losses"
                                            TextAlignment="Center" />
                                        <TextBlock
                                            Margin="0,30,0,0"
                                            FontSize="{StaticResource FontSizeUltra}"
                                            FontWeight="Bold"
                                            Foreground="{StaticResource FontColor}"
                                            Text="{Binding PlayerStatsViewModel.Losses}"
                                            TextAlignment="Center" />
                                    </StackPanel>
                                </Border>

                                <Border
                                    Grid.Column="4"
                                    Margin="20"
                                    Padding="5,10,5,5"
                                    BorderBrush="White"
                                    BorderThickness="3"
                                    CornerRadius="10 10 10 10">
                                    <StackPanel>
                                        <TextBlock
                                            VerticalAlignment="Center"
                                            FontSize="{StaticResource FontSizeMega}"
                                            Foreground="{StaticResource FontColorTitle}"
                                            Text="SPM"
                                            TextAlignment="Center" />
                                        <TextBlock
                                            Margin="0,30,0,0"
                                            FontSize="{StaticResource FontSizeUltra}"
                                            FontWeight="Bold"
                                            Foreground="{StaticResource FontColor}"
                                            Text="{Binding PlayerStatsViewModel.Spm}"
                                            TextAlignment="Center" />
                                    </StackPanel>
                                </Border>

                                <Border
                                    Grid.Column="5"
                                    Margin="20"
                                    Padding="5,10,5,5"
                                    BorderBrush="White"
                                    BorderThickness="3"
                                    CornerRadius="10 10 10 10">
                                    <StackPanel>
                                        <TextBlock
                                            VerticalAlignment="Center"
                                            FontSize="{StaticResource FontSizeMega}"
                                            Foreground="{StaticResource FontColorTitle}"
                                            Text="KPM"
                                            TextAlignment="Center" />
                                        <TextBlock
                                            Margin="0,30,0,0"
                                            FontSize="{StaticResource FontSizeUltra}"
                                            FontWeight="Bold"
                                            Foreground="{StaticResource FontColor}"
                                            Text="{Binding PlayerStatsViewModel.Kpm}"
                                            TextAlignment="Center" />
                                    </StackPanel>
                                </Border>

                                <Border
                                    Grid.Column="6"
                                    Margin="20"
                                    Padding="5,10,5,5"
                                    BorderBrush="White"
                                    BorderThickness="3"
                                    CornerRadius="10 10 10 10">
                                    <StackPanel>
                                        <TextBlock
                                            VerticalAlignment="Center"
                                            FontSize="{StaticResource FontSizeMega}"
                                            Foreground="{StaticResource FontColorTitle}"
                                            Text="Time"
                                            TextAlignment="Center" />
                                        <TextBlock
                                            Margin="0,30,0,0"
                                            FontSize="{StaticResource FontSizeUltra}"
                                            FontWeight="Bold"
                                            Foreground="{StaticResource FontColor}"
                                            Text="{Binding PlayerStatsViewModel.TimePlayed}"
                                            TextAlignment="Center" />
                                    </StackPanel>
                                </Border>
                            </Grid>

                            <Grid Grid.Row="1">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>

                                <Grid.RowDefinitions>
                                    <RowDefinition Height="*" />
                                    <RowDefinition Height="*" />
                                </Grid.RowDefinitions>

                                <Border
                                    Grid.Row="0"
                                    Grid.Column="0"
                                    Margin="20"
                                    Padding="10"
                                    BorderBrush="White"
                                    BorderThickness="3"
                                    CornerRadius="10 10 10 10">
                                    <StackPanel>
                                        <TextBlock
                                            VerticalAlignment="Center"
                                            FontSize="{StaticResource FontSizeMega}"
                                            Foreground="{StaticResource FontColorTitle}"
                                            Text="Top Class"
                                            TextAlignment="Center" />
                                        <TextBlock
                                            Margin="0,30,0,0"
                                            FontSize="{StaticResource FontSizeUltra}"
                                            Foreground="{StaticResource FontColor}"
                                            Text="{Binding PlayerStatsViewModel.TopClass}"
                                            TextAlignment="Center" />
                                    </StackPanel>
                                </Border>

                                <Border
                                    Grid.Row="0"
                                    Grid.Column="1"
                                    Margin="20"
                                    Padding="10"
                                    BorderBrush="White"
                                    BorderThickness="3"
                                    CornerRadius="10 10 10 10">
                                    <StackPanel>
                                        <TextBlock
                                            VerticalAlignment="Center"
                                            FontSize="{StaticResource FontSizeMega}"
                                            Foreground="{StaticResource FontColorTitle}"
                                            Text="Top Vehicle"
                                            TextAlignment="Center" />
                                        <TextBlock
                                            Margin="0,30,0,0"
                                            FontSize="{StaticResource FontSizeUltra}"
                                            Foreground="{StaticResource FontColor}"
                                            Text="{Binding PlayerStatsViewModel.TopVehicle}"
                                            TextAlignment="Center" />
                                    </StackPanel>
                                </Border>

                                <Border
                                    Grid.Row="1"
                                    Grid.Column="0"
                                    Margin="20"
                                    Padding="10"
                                    BorderBrush="White"
                                    BorderThickness="3"
                                    CornerRadius="10 10 10 10">
                                    <StackPanel>
                                        <TextBlock
                                            VerticalAlignment="Center"
                                            FontSize="{StaticResource FontSizeMega}"
                                            Foreground="{StaticResource FontColorTitle}"
                                            Text="Top Primary"
                                            TextAlignment="Center" />
                                        <TextBlock
                                            Margin="0,30,0,0"
                                            FontSize="{StaticResource FontSizeUltra}"
                                            Foreground="{StaticResource FontColor}"
                                            Text="{Binding PlayerStatsViewModel.TopPrimary}"
                                            TextAlignment="Center" />
                                    </StackPanel>
                                </Border>

                                <Border
                                    Grid.Row="1"
                                    Grid.Column="1"
                                    Margin="20"
                                    Padding="10"
                                    BorderBrush="White"
                                    BorderThickness="3"
                                    CornerRadius="10 10 10 10">
                                    <StackPanel>
                                        <TextBlock
                                            VerticalAlignment="Center"
                                            FontSize="{StaticResource FontSizeMega}"
                                            Foreground="{StaticResource FontColorTitle}"
                                            Text="Top Secondary"
                                            TextAlignment="Center" />
                                        <TextBlock
                                            Margin="0,30,0,0"
                                            FontSize="{StaticResource FontSizeUltra}"
                                            Foreground="{StaticResource FontColor}"
                                            Text="{Binding PlayerStatsViewModel.TopSecondary}"
                                            TextAlignment="Center" />
                                    </StackPanel>
                                </Border>
                            </Grid>
                        </Grid>
                    </TabItem>

                    <TabItem
                        Background="{StaticResource BackgroundColorHeader}"
                        Foreground="Black"
                        Header="Details">

                        <ScrollViewer>

                            <StackPanel Margin="10,10,10,10">

                                <Grid Margin="0,0,0,20">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="*" />
                                    </Grid.ColumnDefinitions>

                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*" />
                                        <RowDefinition Height="*" />
                                        <RowDefinition Height="*" />
                                        <RowDefinition Height="*" />
                                        <RowDefinition Height="*" />
                                        <RowDefinition Height="*" />
                                        <RowDefinition Height="*" />
                                        <RowDefinition Height="*" />
                                    </Grid.RowDefinitions>

                                    <Border
                                        Grid.Row="0"
                                        Grid.Column="0"
                                        Margin="10,10,10,10"
                                        Padding="10"
                                        BorderBrush="White"
                                        BorderThickness="3"
                                        CornerRadius="10 10 10 10">
                                        <StackPanel>
                                            <TextBlock
                                                FontSize="{StaticResource FontSizeLarge}"
                                                Foreground="{StaticResource FontColorTitle}"
                                                Text="Accuracy Ratio"
                                                TextAlignment="Center" />
                                            <TextBlock
                                                Margin="0,10,0,0"
                                                FontSize="{StaticResource FontSizeMega}"
                                                Foreground="{StaticResource FontColor}"
                                                Text="{Binding DetailStatsViewModel.AccuracyRatio}"
                                                TextAlignment="Center" />
                                        </StackPanel>
                                    </Border>

                                    <Border
                                        Grid.Row="0"
                                        Grid.Column="1"
                                        Margin="10,10,10,10"
                                        Padding="10"
                                        BorderBrush="White"
                                        BorderThickness="3"
                                        CornerRadius="10 10 10 10">
                                        <StackPanel>
                                            <TextBlock
                                                FontSize="{StaticResource FontSizeLarge}"
                                                Foreground="{StaticResource FontColorTitle}"
                                                Text="Avenger Kills"
                                                TextAlignment="Center" />
                                            <TextBlock
                                                Margin="0,10,0,0"
                                                FontSize="{StaticResource FontSizeMega}"
                                                Foreground="{StaticResource FontColor}"
                                                Text="{Binding DetailStatsViewModel.AvengerKills}"
                                                TextAlignment="Center" />
                                        </StackPanel>
                                    </Border>

                                    <Border
                                        Grid.Row="0"
                                        Grid.Column="2"
                                        Margin="10,10,10,10"
                                        Padding="10"
                                        BorderBrush="White"
                                        BorderThickness="3"
                                        CornerRadius="10 10 10 10">
                                        <StackPanel>
                                            <TextBlock
                                                FontSize="{StaticResource FontSizeLarge}"
                                                Foreground="{StaticResource FontColorTitle}"
                                                Text="Award Score"
                                                TextAlignment="Center" />
                                            <TextBlock
                                                Margin="0,10,0,0"
                                                FontSize="{StaticResource FontSizeMega}"
                                                Foreground="{StaticResource FontColor}"
                                                Text="{Binding DetailStatsViewModel.AwardScore}"
                                                TextAlignment="Center" />
                                        </StackPanel>
                                    </Border>

                                    <Border
                                        Grid.Row="0"
                                        Grid.Column="3"
                                        Margin="10,10,10,10"
                                        Padding="10"
                                        BorderBrush="White"
                                        BorderThickness="3"
                                        CornerRadius="10 10 10 10">
                                        <StackPanel>
                                            <TextBlock
                                                FontSize="{StaticResource FontSizeLarge}"
                                                Foreground="{StaticResource FontColorTitle}"
                                                Text="Dogtags Taken"
                                                TextAlignment="Center" />
                                            <TextBlock
                                                Margin="0,10,0,0"
                                                FontSize="{StaticResource FontSizeMega}"
                                                Foreground="{StaticResource FontColor}"
                                                Text="{Binding DetailStatsViewModel.DogtagsTaken}"
                                                TextAlignment="Center" />
                                        </StackPanel>
                                    </Border>

                                    <Border
                                        Grid.Row="0"
                                        Grid.Column="4"
                                        Margin="10,10,10,10"
                                        Padding="10"
                                        BorderBrush="White"
                                        BorderThickness="3"
                                        CornerRadius="10 10 10 10">
                                        <StackPanel>
                                            <TextBlock
                                                FontSize="{StaticResource FontSizeLarge}"
                                                Foreground="{StaticResource FontColorTitle}"
                                                Text="Headshots"
                                                TextAlignment="Center" />
                                            <TextBlock
                                                Margin="0,10,0,0"
                                                FontSize="{StaticResource FontSizeMega}"
                                                Foreground="{StaticResource FontColor}"
                                                Text="{Binding DetailStatsViewModel.Headshots}"
                                                TextAlignment="Center" />
                                        </StackPanel>
                                    </Border>

                                    <!--  Second Row  -->

                                    <Border
                                        Grid.Row="1"
                                        Grid.Column="0"
                                        Margin="10,10,10,10"
                                        Padding="10"
                                        BorderBrush="White"
                                        BorderThickness="3"
                                        CornerRadius="10 10 10 10">
                                        <StackPanel>
                                            <TextBlock
                                                FontSize="{StaticResource FontSizeLarge}"
                                                Foreground="{StaticResource FontColorTitle}"
                                                Text="FlagsCaptured"
                                                TextAlignment="Center" />
                                            <TextBlock
                                                Margin="0,10,0,0"
                                                FontSize="{StaticResource FontSizeMega}"
                                                Foreground="{StaticResource FontColor}"
                                                Text="{Binding DetailStatsViewModel.FlagsCaptured}"
                                                TextAlignment="Center" />
                                        </StackPanel>
                                    </Border>

                                    <Border
                                        Grid.Row="1"
                                        Grid.Column="1"
                                        Margin="10,10,10,10"
                                        Padding="10"
                                        BorderBrush="White"
                                        BorderThickness="3"
                                        CornerRadius="10 10 10 10">
                                        <StackPanel>
                                            <TextBlock
                                                FontSize="{StaticResource FontSizeLarge}"
                                                Foreground="{StaticResource FontColorTitle}"
                                                Text="FlagsDefended"
                                                TextAlignment="Center" />
                                            <TextBlock
                                                Margin="0,10,0,0"
                                                FontSize="{StaticResource FontSizeMega}"
                                                Foreground="{StaticResource FontColor}"
                                                Text="{Binding DetailStatsViewModel.FlagsDefended}"
                                                TextAlignment="Center" />
                                        </StackPanel>
                                    </Border>

                                    <Border
                                        Grid.Row="1"
                                        Grid.Column="2"
                                        Margin="10,10,10,10"
                                        Padding="10"
                                        BorderBrush="White"
                                        BorderThickness="3"
                                        CornerRadius="10 10 10 10">
                                        <StackPanel>
                                            <TextBlock
                                                FontSize="{StaticResource FontSizeLarge}"
                                                Foreground="{StaticResource FontColorTitle}"
                                                Text="Heals"
                                                TextAlignment="Center" />
                                            <TextBlock
                                                Margin="0,10,0,0"
                                                FontSize="{StaticResource FontSizeMega}"
                                                Foreground="{StaticResource FontColor}"
                                                Text="{Binding DetailStatsViewModel.Heals}"
                                                TextAlignment="Center" />
                                        </StackPanel>
                                    </Border>

                                    <Border
                                        Grid.Row="1"
                                        Grid.Column="3"
                                        Margin="10,10,10,10"
                                        Padding="10"
                                        BorderBrush="White"
                                        BorderThickness="3"
                                        CornerRadius="10 10 10 10">
                                        <StackPanel>
                                            <TextBlock
                                                FontSize="{StaticResource FontSizeLarge}"
                                                Foreground="{StaticResource FontColorTitle}"
                                                Text="Highest Killstreak"
                                                TextAlignment="Center" />
                                            <TextBlock
                                                Margin="0,10,0,0"
                                                FontSize="{StaticResource FontSizeMega}"
                                                Foreground="{StaticResource FontColor}"
                                                Text="{Binding DetailStatsViewModel.HighestKillStreak}"
                                                TextAlignment="Center" />
                                        </StackPanel>
                                    </Border>


                                    <Border
                                        Grid.Row="1"
                                        Grid.Column="4"
                                        Margin="10,10,10,10"
                                        Padding="10"
                                        BorderBrush="White"
                                        BorderThickness="3"
                                        CornerRadius="10 10 10 10">
                                        <StackPanel>
                                            <TextBlock
                                                FontSize="{StaticResource FontSizeLarge}"
                                                Foreground="{StaticResource FontColorTitle}"
                                                Text="KDR"
                                                TextAlignment="Center" />
                                            <TextBlock
                                                Margin="0,10,0,0"
                                                FontSize="{StaticResource FontSizeMega}"
                                                Foreground="{StaticResource FontColor}"
                                                Text="{Binding DetailStatsViewModel.Kdr}"
                                                TextAlignment="Center" />
                                        </StackPanel>
                                    </Border>

                                    <!--  Third Row  -->

                                    <Border
                                        Grid.Row="2"
                                        Grid.Column="0"
                                        Margin="10,10,10,10"
                                        Padding="10"
                                        BorderBrush="White"
                                        BorderThickness="3"
                                        CornerRadius="10 10 10 10">
                                        <StackPanel>
                                            <TextBlock
                                                FontSize="{StaticResource FontSizeLarge}"
                                                Foreground="{StaticResource FontColorTitle}"
                                                Text="Kill Assists"
                                                TextAlignment="Center" />
                                            <TextBlock
                                                Margin="0,10,0,0"
                                                FontSize="{StaticResource FontSizeMega}"
                                                Foreground="{StaticResource FontColor}"
                                                Text="{Binding DetailStatsViewModel.KillAssists}"
                                                TextAlignment="Center" />
                                        </StackPanel>
                                    </Border>

                                    <Border
                                        Grid.Row="2"
                                        Grid.Column="1"
                                        Margin="10,10,10,10"
                                        Padding="10"
                                        BorderBrush="White"
                                        BorderThickness="3"
                                        CornerRadius="10 10 10 10">
                                        <StackPanel>
                                            <TextBlock
                                                FontSize="{StaticResource FontSizeLarge}"
                                                Foreground="{StaticResource FontColorTitle}"
                                                Text="Longest Headshot"
                                                TextAlignment="Center" />
                                            <TextBlock
                                                Margin="0,10,0,0"
                                                FontSize="{StaticResource FontSizeMega}"
                                                Foreground="{StaticResource FontColor}"
                                                Text="{Binding DetailStatsViewModel.LongestHeadshot}"
                                                TextAlignment="Center" />
                                        </StackPanel>
                                    </Border>

                                    <Border
                                        Grid.Row="2"
                                        Grid.Column="2"
                                        Margin="10,10,10,10"
                                        Padding="10"
                                        BorderBrush="White"
                                        BorderThickness="3"
                                        CornerRadius="10 10 10 10">
                                        <StackPanel>
                                            <TextBlock
                                                FontSize="{StaticResource FontSizeLarge}"
                                                Foreground="{StaticResource FontColorTitle}"
                                                Text="Nemesis Kills"
                                                TextAlignment="Center" />
                                            <TextBlock
                                                Margin="0,10,0,0"
                                                FontSize="{StaticResource FontSizeMega}"
                                                Foreground="{StaticResource FontColor}"
                                                Text="{Binding DetailStatsViewModel.NemesisKills}"
                                                TextAlignment="Center" />
                                        </StackPanel>
                                    </Border>

                                    <Border
                                        Grid.Row="2"
                                        Grid.Column="3"
                                        Margin="10,10,10,10"
                                        Padding="10"
                                        BorderBrush="White"
                                        BorderThickness="3"
                                        CornerRadius="10 10 10 10">
                                        <StackPanel>
                                            <TextBlock
                                                FontSize="{StaticResource FontSizeLarge}"
                                                Foreground="{StaticResource FontColorTitle}"
                                                Text="Nemesis Kill Streak"
                                                TextAlignment="Center" />
                                            <TextBlock
                                                Margin="0,10,0,0"
                                                FontSize="{StaticResource FontSizeMega}"
                                                Foreground="{StaticResource FontColor}"
                                                Text="{Binding DetailStatsViewModel.NemesisKillStreak}"
                                                TextAlignment="Center" />
                                        </StackPanel>
                                    </Border>


                                    <Border
                                        Grid.Row="2"
                                        Grid.Column="4"
                                        Margin="10,10,10,10"
                                        Padding="10"
                                        BorderBrush="White"
                                        BorderThickness="3"
                                        CornerRadius="10 10 10 10">
                                        <StackPanel>
                                            <TextBlock
                                                FontSize="{StaticResource FontSizeLarge}"
                                                Foreground="{StaticResource FontColorTitle}"
                                                Text="Repairs"
                                                TextAlignment="Center" />
                                            <TextBlock
                                                Margin="0,10,0,0"
                                                FontSize="{StaticResource FontSizeMega}"
                                                Foreground="{StaticResource FontColor}"
                                                Text="{Binding DetailStatsViewModel.Repairs}"
                                                TextAlignment="Center" />
                                        </StackPanel>
                                    </Border>

                                    <!--  Forth Row  -->

                                    <Border
                                        Grid.Row="3"
                                        Grid.Column="0"
                                        Margin="10,10,10,10"
                                        Padding="10"
                                        BorderBrush="White"
                                        BorderThickness="3"
                                        CornerRadius="10 10 10 10">
                                        <StackPanel>
                                            <TextBlock
                                                FontSize="{StaticResource FontSizeLarge}"
                                                Foreground="{StaticResource FontColorTitle}"
                                                Text="Revives"
                                                TextAlignment="Center" />
                                            <TextBlock
                                                Margin="0,10,0,0"
                                                FontSize="{StaticResource FontSizeMega}"
                                                Foreground="{StaticResource FontColor}"
                                                Text="{Binding DetailStatsViewModel.Revives}"
                                                TextAlignment="Center" />
                                        </StackPanel>
                                    </Border>

                                    <Border
                                        Grid.Row="3"
                                        Grid.Column="1"
                                        Margin="10,10,10,10"
                                        Padding="10"
                                        BorderBrush="White"
                                        BorderThickness="3"
                                        CornerRadius="10 10 10 10">
                                        <StackPanel>
                                            <TextBlock
                                                FontSize="{StaticResource FontSizeLarge}"
                                                Foreground="{StaticResource FontColorTitle}"
                                                Text="Rounds Played"
                                                TextAlignment="Center" />
                                            <TextBlock
                                                Margin="0,10,0,0"
                                                FontSize="{StaticResource FontSizeMega}"
                                                Foreground="{StaticResource FontColor}"
                                                Text="{Binding DetailStatsViewModel.RoundsPlayed}"
                                                TextAlignment="Center" />
                                        </StackPanel>
                                    </Border>

                                    <Border
                                        Grid.Row="3"
                                        Grid.Column="2"
                                        Margin="10,10,10,10"
                                        Padding="10"
                                        BorderBrush="White"
                                        BorderThickness="3"
                                        CornerRadius="10 10 10 10">
                                        <StackPanel>
                                            <TextBlock
                                                FontSize="{StaticResource FontSizeLarge}"
                                                Foreground="{StaticResource FontColorTitle}"
                                                Text="Savior Kills"
                                                TextAlignment="Center" />
                                            <TextBlock
                                                Margin="0,10,0,0"
                                                FontSize="{StaticResource FontSizeMega}"
                                                Foreground="{StaticResource FontColor}"
                                                Text="{Binding DetailStatsViewModel.SaviorKills}"
                                                TextAlignment="Center" />
                                        </StackPanel>
                                    </Border>

                                    <Border
                                        Grid.Row="3"
                                        Grid.Column="3"
                                        Margin="10,10,10,10"
                                        Padding="10"
                                        BorderBrush="White"
                                        BorderThickness="3"
                                        CornerRadius="10 10 10 10">
                                        <StackPanel>
                                            <TextBlock
                                                FontSize="{StaticResource FontSizeLarge}"
                                                Foreground="{StaticResource FontColorTitle}"
                                                Text="Squad Score"
                                                TextAlignment="Center" />
                                            <TextBlock
                                                Margin="0,10,0,0"
                                                FontSize="{StaticResource FontSizeMega}"
                                                Foreground="{StaticResource FontColor}"
                                                Text="{Binding DetailStatsViewModel.SquadScore}"
                                                TextAlignment="Center" />
                                        </StackPanel>
                                    </Border>


                                    <Border
                                        Grid.Row="3"
                                        Grid.Column="4"
                                        Margin="10,10,10,10"
                                        Padding="10"
                                        BorderBrush="White"
                                        BorderThickness="3"
                                        CornerRadius="10 10 10 10">
                                        <StackPanel>
                                            <TextBlock
                                                FontSize="{StaticResource FontSizeLarge}"
                                                Foreground="{StaticResource FontColorTitle}"
                                                Text="Suppression Assists"
                                                TextAlignment="Center" />
                                            <TextBlock
                                                Margin="0,10,0,0"
                                                FontSize="{StaticResource FontSizeMega}"
                                                Foreground="{StaticResource FontColor}"
                                                Text="{Binding DetailStatsViewModel.SuppressionAssists}"
                                                TextAlignment="Center" />
                                        </StackPanel>
                                    </Border>

                                </Grid>

                                <TextBlock
                                    Padding="5,0,0,0"
                                    Background="{StaticResource BackgroundColorHeader}"
                                    FontSize="{StaticResource FontSizeMega}"
                                    Foreground="{StaticResource FontColor}"
                                    Text="Class Stats"
                                    TextAlignment="Left" />

                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="*" />
                                    </Grid.ColumnDefinitions>

                                    <TextBlock
                                        Grid.Column="0"
                                        Padding="10,0,0,2"
                                        Background="{StaticResource BackgroundColorHeader}"
                                        FontSize="{StaticResource FontSizeNormal}"
                                        Foreground="{StaticResource FontColor}"
                                        Text="Name"
                                        TextAlignment="Left" />
                                    <TextBlock
                                        Grid.Column="1"
                                        Background="{StaticResource BackgroundColorHeader}"
                                        FontSize="{StaticResource FontSizeNormal}"
                                        Foreground="{StaticResource FontColor}"
                                        Text="Kills"
                                        TextAlignment="Center" />
                                    <TextBlock
                                        Grid.Column="2"
                                        Background="{StaticResource BackgroundColorHeader}"
                                        FontSize="{StaticResource FontSizeNormal}"
                                        Foreground="{StaticResource FontColor}"
                                        Text="Score"
                                        TextAlignment="Center" />
                                    <TextBlock
                                        Grid.Column="3"
                                        Background="{StaticResource BackgroundColorHeader}"
                                        FontSize="{StaticResource FontSizeNormal}"
                                        Foreground="{StaticResource FontColor}"
                                        Text="Seconds As"
                                        TextAlignment="Center" />
                                </Grid>

                                <ItemsControl
                                    Margin="0,0,0,10"
                                    Background="{StaticResource BackgroundColor}"
                                    BorderBrush="White"
                                    BorderThickness="0"
                                    Focusable="True"
                                    ItemsSource="{Binding DetailStatsViewModel.KitStats}">

                                    <ItemsControl.ItemTemplate>
                                        <DataTemplate DataType="details:KitStatDetailStats">
                                            <Grid Margin="10,10,0,10">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="*" />
                                                    <ColumnDefinition Width="*" />
                                                    <ColumnDefinition Width="*" />
                                                    <ColumnDefinition Width="*" />
                                                </Grid.ColumnDefinitions>

                                                <TextBlock
                                                    Grid.Column="0"
                                                    HorizontalAlignment="Stretch"
                                                    VerticalAlignment="Stretch"
                                                    FontSize="{StaticResource FontSizeLarge}"
                                                    Foreground="{StaticResource FontColorTitle}"
                                                    Text="{Binding Name}" />
                                                <TextBlock
                                                    Grid.Column="1"
                                                    HorizontalAlignment="Center"
                                                    VerticalAlignment="Stretch"
                                                    FontSize="{StaticResource FontSizeLarge}"
                                                    Foreground="{StaticResource FontColor}"
                                                    Text="{Binding Kills}" />
                                                <TextBlock
                                                    Grid.Column="2"
                                                    HorizontalAlignment="Center"
                                                    VerticalAlignment="Stretch"
                                                    FontSize="{StaticResource FontSizeLarge}"
                                                    Foreground="{StaticResource FontColor}"
                                                    Text="{Binding Score}" />
                                                <TextBlock
                                                    Grid.Column="3"
                                                    HorizontalAlignment="Center"
                                                    VerticalAlignment="Stretch"
                                                    FontSize="{StaticResource FontSizeLarge}"
                                                    Foreground="{StaticResource FontColor}"
                                                    Text="{Binding SecondsAs}" />
                                            </Grid>
                                        </DataTemplate>
                                    </ItemsControl.ItemTemplate>
                                </ItemsControl>

                                <TextBlock
                                    Padding="5,0,0,0"
                                    Background="{StaticResource BackgroundColorHeader}"
                                    FontSize="{StaticResource FontSizeMega}"
                                    Foreground="{StaticResource FontColor}"
                                    Text="Vehicle Stats"
                                    TextAlignment="Left" />

                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="*" />
                                    </Grid.ColumnDefinitions>

                                    <TextBlock
                                        Grid.Column="0"
                                        Padding="10,0,0,2"
                                        Background="{StaticResource BackgroundColorHeader}"
                                        FontSize="{StaticResource FontSizeNormal}"
                                        Foreground="{StaticResource FontColor}"
                                        Text="Name"
                                        TextAlignment="Left" />
                                    <TextBlock
                                        Grid.Column="1"
                                        Background="{StaticResource BackgroundColorHeader}"
                                        FontSize="{StaticResource FontSizeNormal}"
                                        Foreground="{StaticResource FontColor}"
                                        Text="Kills"
                                        TextAlignment="Center" />
                                    <TextBlock
                                        Grid.Column="2"
                                        Background="{StaticResource BackgroundColorHeader}"
                                        FontSize="{StaticResource FontSizeNormal}"
                                        Foreground="{StaticResource FontColor}"
                                        Text="Vehicles Destroyed"
                                        TextAlignment="Center" />
                                    <TextBlock
                                        Grid.Column="3"
                                        Background="{StaticResource BackgroundColorHeader}"
                                        FontSize="{StaticResource FontSizeNormal}"
                                        Foreground="{StaticResource FontColor}"
                                        Text="Time spent"
                                        TextAlignment="Center" />
                                </Grid>

                                <ItemsControl
                                    Margin="0,0,0,10"
                                    Background="{StaticResource BackgroundColor}"
                                    BorderBrush="White"
                                    BorderThickness="0"
                                    Focusable="True"
                                    ItemsSource="{Binding DetailStatsViewModel.VehicleStats}">

                                    <ItemsControl.ItemTemplate>
                                        <DataTemplate DataType="details:VehicleStatDetailStats">
                                            <Grid Margin="10,10,0,10">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="*" />
                                                    <ColumnDefinition Width="*" />
                                                    <ColumnDefinition Width="*" />
                                                    <ColumnDefinition Width="*" />
                                                </Grid.ColumnDefinitions>

                                                <TextBlock
                                                    Grid.Column="0"
                                                    HorizontalAlignment="Stretch"
                                                    VerticalAlignment="Stretch"
                                                    FontSize="{StaticResource FontSizeLarge}"
                                                    Foreground="{StaticResource FontColorTitle}"
                                                    Text="{Binding Name}" />
                                                <TextBlock
                                                    Grid.Column="1"
                                                    HorizontalAlignment="Center"
                                                    VerticalAlignment="Stretch"
                                                    FontSize="{StaticResource FontSizeLarge}"
                                                    Foreground="{StaticResource FontColor}"
                                                    Text="{Binding KillsAs}" />
                                                <TextBlock
                                                    Grid.Column="2"
                                                    HorizontalAlignment="Center"
                                                    VerticalAlignment="Stretch"
                                                    FontSize="{StaticResource FontSizeLarge}"
                                                    Foreground="{StaticResource FontColor}"
                                                    Text="{Binding VehiclesDestroyed}" />
                                                <TextBlock
                                                    Grid.Column="3"
                                                    HorizontalAlignment="Center"
                                                    VerticalAlignment="Stretch"
                                                    FontSize="{StaticResource FontSizeLarge}"
                                                    Foreground="{StaticResource FontColor}"
                                                    Text="{Binding TimeSpent}" />
                                            </Grid>
                                        </DataTemplate>
                                    </ItemsControl.ItemTemplate>
                                </ItemsControl>

                                <TextBlock
                                    Padding="5,0,0,2"
                                    Background="{StaticResource BackgroundColorHeader}"
                                    FontSize="{StaticResource FontSizeMega}"
                                    Foreground="{StaticResource FontColor}"
                                    Text="Gamemode Stats"
                                    TextAlignment="Left" />

                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="*" />
                                    </Grid.ColumnDefinitions>

                                    <TextBlock
                                        Grid.Column="0"
                                        Padding="10,0,0,0"
                                        Background="{StaticResource BackgroundColorHeader}"
                                        FontSize="{StaticResource FontSizeNormal}"
                                        Foreground="{StaticResource FontColor}"
                                        Text="Name"
                                        TextAlignment="Left" />
                                    <TextBlock
                                        Grid.Column="1"
                                        Background="{StaticResource BackgroundColorHeader}"
                                        FontSize="{StaticResource FontSizeNormal}"
                                        Foreground="{StaticResource FontColor}"
                                        Text="Score"
                                        TextAlignment="Center" />
                                    <TextBlock
                                        Grid.Column="2"
                                        Background="{StaticResource BackgroundColorHeader}"
                                        FontSize="{StaticResource FontSizeNormal}"
                                        Foreground="{StaticResource FontColor}"
                                        Text="Wins"
                                        TextAlignment="Center" />
                                    <TextBlock
                                        Grid.Column="3"
                                        Background="{StaticResource BackgroundColorHeader}"
                                        FontSize="{StaticResource FontSizeNormal}"
                                        Foreground="{StaticResource FontColor}"
                                        Text="Losses"
                                        TextAlignment="Center" />
                                    <TextBlock
                                        Grid.Column="4"
                                        Background="{StaticResource BackgroundColorHeader}"
                                        FontSize="{StaticResource FontSizeNormal}"
                                        Foreground="{StaticResource FontColor}"
                                        Text="Win-Loss Ratio"
                                        TextAlignment="Center" />
                                </Grid>

                                <ItemsControl
                                    Background="{StaticResource BackgroundColor}"
                                    BorderBrush="White"
                                    BorderThickness="0"
                                    Focusable="True"
                                    ItemsSource="{Binding DetailStatsViewModel.GameModeStats}">

                                    <ItemsControl.ItemTemplate>
                                        <DataTemplate DataType="details:GameModeStatDetailStats">
                                            <Grid Margin="10,10,0,10">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="*" />
                                                    <ColumnDefinition Width="*" />
                                                    <ColumnDefinition Width="*" />
                                                    <ColumnDefinition Width="*" />
                                                    <ColumnDefinition Width="*" />
                                                </Grid.ColumnDefinitions>

                                                <TextBlock
                                                    Grid.Column="0"
                                                    HorizontalAlignment="Stretch"
                                                    VerticalAlignment="Stretch"
                                                    FontSize="{StaticResource FontSizeLarge}"
                                                    Foreground="{StaticResource FontColorTitle}"
                                                    Text="{Binding Name}" />
                                                <TextBlock
                                                    Grid.Column="1"
                                                    HorizontalAlignment="Center"
                                                    VerticalAlignment="Stretch"
                                                    FontSize="{StaticResource FontSizeLarge}"
                                                    Foreground="{StaticResource FontColor}"
                                                    Text="{Binding Score}" />
                                                <TextBlock
                                                    Grid.Column="2"
                                                    HorizontalAlignment="Center"
                                                    VerticalAlignment="Stretch"
                                                    FontSize="{StaticResource FontSizeLarge}"
                                                    Foreground="{StaticResource FontColor}"
                                                    Text="{Binding Wins}" />
                                                <TextBlock
                                                    Grid.Column="3"
                                                    HorizontalAlignment="Center"
                                                    VerticalAlignment="Stretch"
                                                    FontSize="{StaticResource FontSizeLarge}"
                                                    Foreground="{StaticResource FontColor}"
                                                    Text="{Binding Losses}" />
                                                <TextBlock
                                                    Grid.Column="4"
                                                    HorizontalAlignment="Center"
                                                    VerticalAlignment="Stretch"
                                                    FontSize="{StaticResource FontSizeLarge}"
                                                    Foreground="{StaticResource FontColor}"
                                                    Text="{Binding WinLossRatio}" />
                                            </Grid>
                                        </DataTemplate>
                                    </ItemsControl.ItemTemplate>
                                </ItemsControl>

                            </StackPanel>

                        </ScrollViewer>

                    </TabItem>

                    <TabItem
                        Background="{StaticResource BackgroundColorHeader}"
                        Foreground="Black"
                        Header="Weapons"
                        Visibility="{Binding WeaponStatsViewModel.DownloadFinished, Converter={StaticResource VisibilityConverter}}">

                        <ScrollViewer
                            HorizontalAlignment="Stretch"
                            VerticalAlignment="Stretch"
                            CanContentScroll="True"
                            HorizontalScrollBarVisibility="Disabled"
                            VerticalScrollBarVisibility="Visible">



                            <StackPanel CanVerticallyScroll="True">


                                <Border
                                    Margin="5,5,5,5"
                                    Background="{x:Static SystemColors.ControlBrush}"
                                    DockPanel.Dock="Top">
                                    <DockPanel>

                                        <Grid DockPanel.Dock="Right">
                                            <TextBox
                                                Name="FilterTextBox"
                                                MinWidth="160"
                                                Padding="4,4,24,4"
                                                VerticalAlignment="Center"
                                                VerticalContentAlignment="Center"
                                                DockPanel.Dock="Right"
                                                FontSize="{StaticResource FontSizeNormal}"
                                                Text="{Binding WeaponStatsViewModel.FilterText, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                ToolTip="Filters for weapon categories" />
                                            <Button
                                                Width="{Binding ElementName=FilterTextBox, Path=ActualHeight}"
                                                Height="{Binding ElementName=FilterTextBox, Path=ActualHeight}"
                                                MinWidth="0"
                                                Padding="0"
                                                HorizontalAlignment="Right"
                                                VerticalContentAlignment="Center"
                                                Background="Transparent"
                                                BorderThickness="0"
                                                Command="{Binding WeaponStatsViewModel.ClearFilterCommand}"
                                                Focusable="False">
                                                <TextBlock
                                                    VerticalAlignment="Center"
                                                    FontSize="14"
                                                    Text="X" />
                                            </Button>
                                            <ComboBox MinWidth="200" ItemsSource="{Binding WeaponStatsViewModel.Weapons}">
                                                <ComboBox.ItemTemplate>
                                                    <DataTemplate DataType="weapons:ResultWeaponStats">
                                                        <StackPanel Orientation="Horizontal">
                                                            <TextBlock Text="{Binding Name}" />
                                                        </StackPanel>
                                                    </DataTemplate>
                                                </ComboBox.ItemTemplate>
                                            </ComboBox>
                                        </Grid>
                                        <Label
                                            HorizontalAlignment="Right"
                                            VerticalAlignment="Center"
                                            Content="Filter"
                                            DockPanel.Dock="Right"
                                            FontSize="{StaticResource FontSizeNormal}"
                                            Target="{Binding ElementName=FilterTextBox}" />
                                    </DockPanel>
                                </Border>

                                <ItemsControl
                                    MinWidth="240"
                                    Background="{StaticResource BackgroundColor}"
                                    BorderThickness="0,0,0,0"
                                    Focusable="True"
                                    ItemsSource="{Binding WeaponStatsViewModel.Weapons}">
                                    <!--ListBox.ItemContainerStyle>
                                        <Style TargetType="ListBoxItem">
                                            <Setter Property="HorizontalContentAlignment" Value="Stretch" />
                                        </Style>
                                    </-->
                                    <ItemsControl.ItemTemplate>
                                        <DataTemplate DataType="weapons:ResultWeaponStats">
                                            <StackPanel Margin="5,5,5,5" Orientation="Vertical">
                                                <TextBlock
                                                    Margin="0,5,0,5"
                                                    Padding="5,0,0,0"
                                                    Background="{StaticResource BackgroundColorHeader}"
                                                    FontSize="{StaticResource FontSizeMega}"
                                                    Foreground="{StaticResource FontColor}"
                                                    Text="{Binding Name}" />

                                                <ItemsControl
                                                    Background="{StaticResource BackgroundColor}"
                                                    BorderThickness="0,0,0,0"
                                                    Focusable="True"
                                                    ItemsSource="{Binding Weapons}">

                                                    <ItemsControl.ItemTemplate>
                                                        <DataTemplate>
                                                            <Grid Margin="10,10,10,10">
                                                                <Grid.ColumnDefinitions>
                                                                    <ColumnDefinition Width="*" />
                                                                    <ColumnDefinition Width="*" />
                                                                    <ColumnDefinition Width="*" />
                                                                    <ColumnDefinition Width="*" />
                                                                    <ColumnDefinition Width="*" />
                                                                </Grid.ColumnDefinitions>

                                                                <Label
                                                                    Grid.Column="0"
                                                                    HorizontalAlignment="Stretch"
                                                                    VerticalAlignment="Stretch"
                                                                    VerticalContentAlignment="Center"
                                                                    Content="{Binding Name}"
                                                                    FontSize="{StaticResource FontSizeLarge}"
                                                                    Foreground="{StaticResource FontColorTitle}" />
                                                                <Image
                                                                    Grid.Column="1"
                                                                    Width="125"
                                                                    MaxHeight="100"
                                                                    HorizontalAlignment="Stretch"
                                                                    VerticalAlignment="Stretch"
                                                                    Source="{Binding CorrectImageUrl}" />
                                                                <Label
                                                                    Grid.Column="2"
                                                                    HorizontalAlignment="Center"
                                                                    VerticalAlignment="Stretch"
                                                                    VerticalContentAlignment="Center"
                                                                    Content="{Binding Stats.Values.Kills}"
                                                                    FontSize="{StaticResource FontSizeLarge}"
                                                                    Foreground="{StaticResource FontColor}" />
                                                                <Label
                                                                    Grid.Column="3"
                                                                    HorizontalAlignment="Center"
                                                                    VerticalAlignment="Stretch"
                                                                    VerticalContentAlignment="Center"
                                                                    Content="{Binding Stats.Values.Seconds}"
                                                                    FontSize="{StaticResource FontSizeLarge}"
                                                                    Foreground="{StaticResource FontColor}" />
                                                                <Label
                                                                    Grid.Column="4"
                                                                    HorizontalAlignment="Center"
                                                                    VerticalAlignment="Stretch"
                                                                    VerticalContentAlignment="Center"
                                                                    Content="{Binding Price}"
                                                                    FontSize="{StaticResource FontSizeLarge}"
                                                                    Foreground="{StaticResource FontColor}" />
                                                            </Grid>
                                                        </DataTemplate>
                                                    </ItemsControl.ItemTemplate>
                                                </ItemsControl>
                                            </StackPanel>
                                        </DataTemplate>
                                    </ItemsControl.ItemTemplate>
                                </ItemsControl>
                            </StackPanel>
                        </ScrollViewer>
                    </TabItem>
                    <TabItem
                        Background="{StaticResource BackgroundColorHeader}"
                        Foreground="Black"
                        Header="Vehicles"
                        Visibility="{Binding VehicleStatsViewModel.DownloadFinished, Converter={StaticResource VisibilityConverter}}">

                        <ScrollViewer>

                            <ItemsControl
                                MinWidth="240"
                                Background="{StaticResource BackgroundColor}"
                                BorderBrush="White"
                                BorderThickness="1,1,1,1"
                                DockPanel.Dock="Left"
                                Focusable="True"
                                ItemsSource="{Binding VehicleStatsViewModel.Vehicles}">
                                <!--ListBox.ItemContainerStyle>
                                <Style TargetType="ListBoxItem">
                                    <Setter Property="HorizontalContentAlignment" Value="Stretch" />
                                </Style>
                            </-->
                                <ItemsControl.ItemTemplate>
                                    <DataTemplate DataType="vehicles:ResultVehicleStats">
                                        <StackPanel Margin="5,5,5,5" Orientation="Vertical">
                                            <TextBlock
                                                Margin="0,5,0,5"
                                                Padding="5,0,0,0"
                                                Background="{StaticResource BackgroundColorHeader}"
                                                FontSize="{StaticResource FontSizeMega}"
                                                Foreground="{StaticResource FontColor}"
                                                Text="{Binding Name}" />

                                            <ItemsControl
                                                Margin="5,5,5,5"
                                                Background="{StaticResource BackgroundColor}"
                                                BorderBrush="White"
                                                BorderThickness="0"
                                                Focusable="True"
                                                ItemsSource="{Binding Vehicles}">
                                                <!--ListBox.ItemContainerStyle>
                                                <Style TargetType="ListBoxItem">
                                                    <Setter Property="HorizontalContentAlignment" Value="Stretch" />
                                                </Style>
                                            </-->

                                                <ItemsControl.ItemTemplate>
                                                    <DataTemplate>
                                                        <Grid Margin="10,10,10,10">
                                                            <Grid.ColumnDefinitions>
                                                                <ColumnDefinition Width="*" />
                                                                <ColumnDefinition Width="*" />
                                                                <ColumnDefinition Width="*" />
                                                                <ColumnDefinition Width="*" />
                                                                <ColumnDefinition Width="*" />
                                                            </Grid.ColumnDefinitions>

                                                            <Label
                                                                Grid.Column="0"
                                                                HorizontalAlignment="Stretch"
                                                                VerticalAlignment="Stretch"
                                                                VerticalContentAlignment="Center"
                                                                Content="{Binding Name}"
                                                                FontSize="{StaticResource FontSizeLarge}"
                                                                Foreground="{StaticResource FontColorTitle}" />
                                                            <Image
                                                                Grid.Column="1"
                                                                MaxWidth="250"
                                                                MaxHeight="200"
                                                                HorizontalAlignment="Center"
                                                                VerticalAlignment="Center"
                                                                Source="{Binding CorrectImageUrl}" />
                                                            <Label
                                                                Grid.Column="2"
                                                                HorizontalAlignment="Center"
                                                                VerticalAlignment="Stretch"
                                                                VerticalContentAlignment="Center"
                                                                Content="{Binding Stats.Values.Kills}"
                                                                FontSize="{StaticResource FontSizeLarge}"
                                                                Foreground="{StaticResource FontColor}" />
                                                            <Label
                                                                Grid.Column="3"
                                                                HorizontalAlignment="Center"
                                                                VerticalAlignment="Stretch"
                                                                VerticalContentAlignment="Center"
                                                                Content="{Binding Stats.Values.Seconds}"
                                                                FontSize="{StaticResource FontSizeLarge}"
                                                                Foreground="{StaticResource FontColor}" />
                                                            <Label
                                                                Grid.Column="4"
                                                                HorizontalAlignment="Center"
                                                                VerticalAlignment="Stretch"
                                                                VerticalContentAlignment="Center"
                                                                Content="{Binding Stats.Values.Destroyed}"
                                                                FontSize="{StaticResource FontSizeLarge}"
                                                                Foreground="{StaticResource FontColor}" />
                                                        </Grid>
                                                    </DataTemplate>
                                                </ItemsControl.ItemTemplate>
                                            </ItemsControl>
                                        </StackPanel>
                                    </DataTemplate>
                                </ItemsControl.ItemTemplate>
                            </ItemsControl>

                        </ScrollViewer>

                    </TabItem>
                    <TabItem
                        Background="{StaticResource BackgroundColorHeader}"
                        Foreground="Black"
                        Header="Dogtags"
                        Visibility="{Binding DogTagStatsViewModel.DownloadFinished, Converter={StaticResource VisibilityConverter}}">
                        <ScrollViewer>

                            <ItemsControl
                                MinWidth="240"
                                Background="{StaticResource BackgroundColor}"
                                BorderBrush="White"
                                BorderThickness="1,1,1,1"
                                DockPanel.Dock="Left"
                                Focusable="True"
                                ItemsSource="{Binding DogTagStatsViewModel.DogTags}">
                                <ItemsControl.ItemTemplate>
                                    <DataTemplate DataType="dogTags:ResultDogTagStats">
                                        <StackPanel Margin="5,5,5,5" Orientation="Vertical">
                                            <TextBlock
                                                Margin="0,5,0,5"
                                                Padding="5,0,0,0"
                                                Background="{StaticResource BackgroundColorHeader}"
                                                FontSize="{StaticResource FontSizeMega}"
                                                Foreground="{StaticResource FontColor}"
                                                Text="{Binding Name}" />

                                            <ItemsControl
                                                Margin="5,5,5,5"
                                                Background="{StaticResource BackgroundColor}"
                                                BorderBrush="White"
                                                BorderThickness="0"
                                                Focusable="True"
                                                ItemsSource="{Binding Dogtags}">
                                                <!--ListBox.ItemContainerStyle>
                                                <Style TargetType="ListBoxItem">
                                                    <Setter Property="HorizontalContentAlignment" Value="Stretch" />
                                                </Style>
                                            </-->

                                                <ItemsControl.ItemTemplate>
                                                    <DataTemplate>
                                                        <Grid Margin="10,10,10,10">
                                                            <Grid.ColumnDefinitions>
                                                                <ColumnDefinition Width="*" />
                                                                <ColumnDefinition Width="*" />
                                                                <ColumnDefinition Width="*" />
                                                                <ColumnDefinition Width="*" />
                                                                <ColumnDefinition Width="*" />
                                                            </Grid.ColumnDefinitions>

                                                            <Label
                                                                Grid.Column="0"
                                                                HorizontalAlignment="Stretch"
                                                                VerticalAlignment="Stretch"
                                                                VerticalContentAlignment="Center"
                                                                Content="{Binding Name}"
                                                                FontSize="{StaticResource FontSizeLarge}"
                                                                Foreground="{StaticResource FontColorTitle}" />
                                                            <Image
                                                                Grid.Column="1"
                                                                Width="100"
                                                                Height="100"
                                                                HorizontalAlignment="Stretch"
                                                                VerticalAlignment="Stretch"
                                                                Source="{Binding CorrectImageUrl}" />
                                                            <Label
                                                                Grid.Column="2"
                                                                HorizontalAlignment="Center"
                                                                VerticalAlignment="Stretch"
                                                                VerticalContentAlignment="Center"
                                                                Content="{Binding TimesTaken}"
                                                                FontSize="{StaticResource FontSizeLarge}"
                                                                Foreground="{StaticResource FontColor}" />
                                                            <Label
                                                                Grid.Column="3"
                                                                HorizontalAlignment="Center"
                                                                VerticalAlignment="Stretch"
                                                                VerticalContentAlignment="Center"
                                                                Content="{Binding Equipped}"
                                                                FontSize="{StaticResource FontSizeLarge}"
                                                                Foreground="{StaticResource FontColor}" />
                                                            <Label
                                                                Grid.Column="4"
                                                                HorizontalAlignment="Center"
                                                                VerticalAlignment="Stretch"
                                                                VerticalContentAlignment="Center"
                                                                Content="{Binding Progression.Unlocked}"
                                                                FontSize="{StaticResource FontSizeLarge}"
                                                                Foreground="{StaticResource FontColor}" />
                                                        </Grid>
                                                    </DataTemplate>
                                                </ItemsControl.ItemTemplate>
                                            </ItemsControl>
                                        </StackPanel>
                                    </DataTemplate>
                                </ItemsControl.ItemTemplate>
                            </ItemsControl>

                        </ScrollViewer>

                    </TabItem>

                    <TabItem
                        Background="{StaticResource BackgroundColorHeader}"
                        Foreground="Black"
                        Header="Medals"
                        Visibility="{Binding MedalStatsViewModel.DownloadFinished, Converter={StaticResource VisibilityConverter}}">

                        <ScrollViewer>

                            <ItemsControl
                                MinWidth="240"
                                Background="{StaticResource BackgroundColor}"
                                BorderBrush="White"
                                BorderThickness="1,1,1,1"
                                Focusable="True"
                                ItemsSource="{Binding MedalStatsViewModel.Medals}">
                                <ItemsControl.ItemTemplate>
                                    <DataTemplate DataType="medals:ResultMedalStats">
                                        <StackPanel Margin="5,5,5,5" Orientation="Vertical">
                                            <TextBlock
                                                Margin="0,5,0,5"
                                                Padding="5,0,0,0"
                                                Background="{StaticResource BackgroundColorHeader}"
                                                FontSize="{StaticResource FontSizeMega}"
                                                Foreground="{StaticResource FontColor}"
                                                Text="{Binding Name}" />

                                            <ItemsControl
                                                Margin="5,5,5,5"
                                                Background="{StaticResource BackgroundColor}"
                                                BorderBrush="White"
                                                BorderThickness="0"
                                                Focusable="True"
                                                ItemsSource="{Binding Awards}">
                                                <!--ListBox.ItemContainerStyle>
                                                <Style TargetType="ListBoxItem">
                                                    <Setter Property="HorizontalContentAlignment" Value="Stretch" />
                                                </Style>
                                            </-->

                                                <ItemsControl.ItemTemplate>
                                                    <DataTemplate>
                                                        <Grid Margin="10,10,10,50">
                                                            <Grid.ColumnDefinitions>
                                                                <ColumnDefinition Width="*" />
                                                                <ColumnDefinition Width="*" />
                                                                <ColumnDefinition Width="*" />
                                                                <ColumnDefinition Width="*" />
                                                            </Grid.ColumnDefinitions>

                                                            <Label
                                                                Grid.Column="0"
                                                                HorizontalAlignment="Stretch"
                                                                VerticalAlignment="Stretch"
                                                                VerticalContentAlignment="Center"
                                                                Content="{Binding Name}"
                                                                FontSize="{StaticResource FontSizeLarge}"
                                                                Foreground="{StaticResource FontColorTitle}" />
                                                            <Image
                                                                Grid.Column="1"
                                                                MaxWidth="100"
                                                                MaxHeight="125"
                                                                HorizontalAlignment="Center"
                                                                VerticalAlignment="Center"
                                                                Source="{Binding CorrectImageUrl}" />
                                                            <Label
                                                                Grid.Column="3"
                                                                Margin="0,0,30,0"
                                                                HorizontalAlignment="Right"
                                                                VerticalAlignment="Stretch"
                                                                VerticalContentAlignment="Center"
                                                                Content="{Binding Progression.Unlocked}"
                                                                FontSize="{StaticResource FontSizeLarge}"
                                                                Foreground="{StaticResource FontColor}" />
                                                        </Grid>
                                                    </DataTemplate>
                                                </ItemsControl.ItemTemplate>
                                            </ItemsControl>
                                        </StackPanel>
                                    </DataTemplate>
                                </ItemsControl.ItemTemplate>
                            </ItemsControl>

                        </ScrollViewer>

                    </TabItem>
                </TabControl>
            </Grid>
        </Grid>
    </Grid>
</controls:MetroWindow>
